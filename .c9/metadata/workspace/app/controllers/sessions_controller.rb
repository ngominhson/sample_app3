{"filter":false,"title":"sessions_controller.rb","tooltip":"/app/controllers/sessions_controller.rb","undoManager":{"mark":3,"position":3,"stack":[[{"group":"doc","deltas":[{"start":{"row":5,"column":2},"end":{"row":20,"column":5},"action":"remove","lines":["def create","    user = User.find_by(email: params[:session][:email].downcase)","    if user && user.authenticate(params[:session][:password])","      log_in user","      params[:session][:remember_me] == '1' ? remember(user) : forget(user)","      redirect_to user","    else","      flash.now[:danger] = 'Invalid email/password combination'","      render 'new'","    end","  end","","  def destroy","    log_out if logged_in?","    redirect_to root_url","  end"]},{"start":{"row":5,"column":2},"end":{"row":22,"column":5},"action":"insert","lines":[" def create","    user = User.find_by(email: params[:session][:email].downcase)","    if user && user.authenticate(params[:session][:password])","      if user.activated?","        log_in user","        params[:session][:remember_me] == '1' ? remember(user) : forget(user)","        redirect_back_or user","      else","        message  = \"Account not activated. \"","        message += \"Check your email for the activation link.\"","        flash[:warning] = message","        redirect_to root_url","      end","    else","      flash.now[:danger] = 'Invalid email/password combination'","      render 'new'","    end","  end"]}]}],[{"group":"doc","deltas":[{"start":{"row":22,"column":5},"end":{"row":23,"column":0},"action":"insert","lines":["",""]},{"start":{"row":23,"column":0},"end":{"row":23,"column":2},"action":"insert","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":23,"column":2},"end":{"row":24,"column":0},"action":"insert","lines":["",""]},{"start":{"row":24,"column":0},"end":{"row":24,"column":2},"action":"insert","lines":["  "]}]}],[{"group":"doc","deltas":[{"start":{"row":0,"column":0},"end":{"row":25,"column":3},"action":"remove","lines":["class SessionsController < ApplicationController","","  def new","  end","","   def create","    user = User.find_by(email: params[:session][:email].downcase)","    if user && user.authenticate(params[:session][:password])","      if user.activated?","        log_in user","        params[:session][:remember_me] == '1' ? remember(user) : forget(user)","        redirect_back_or user","      else","        message  = \"Account not activated. \"","        message += \"Check your email for the activation link.\"","        flash[:warning] = message","        redirect_to root_url","      end","    else","      flash.now[:danger] = 'Invalid email/password combination'","      render 'new'","    end","  end","  ","  ","end"]},{"start":{"row":0,"column":0},"end":{"row":28,"column":3},"action":"insert","lines":["class SessionsController < ApplicationController","","  def new","  end","","  def create","    user = User.find_by(email: params[:session][:email].downcase)","    if user && user.authenticate(params[:session][:password])","      if user.activated?","        log_in user","        params[:session][:remember_me] == '1' ? remember(user) : forget(user)","        redirect_back_or user","      else","        message  = \"Account not activated. \"","        message += \"Check your email for the activation link.\"","        flash[:warning] = message","        redirect_to root_url","      end","    else","      flash.now[:danger] = 'Invalid email/password combination'","      render 'new'","    end","  end","","  def destroy","    log_out if logged_in?","    redirect_to root_url","  end","end"]}]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":28,"column":3},"end":{"row":28,"column":3},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":52,"mode":"ace/mode/ruby"}},"timestamp":1425695408884,"hash":"03a9b2f681820219d27fa82e3c400e3a313d6ba3"}